# 1. Язык SRS $a \to bab \quad a^3 \to a^2 \quad ba \to ac$ над множеством базисных слов $b^n a^n$

Рассмотрим слова получаемых из базисного $a$ применением SRS

Такие слова порождаются грамматикой
```
T -> bTb | aR
R -> cRb | .
```
Где `.` - пустое слово, $\varepsilon$
Это не трудно заметить, проанализировав поведение первого и третьего правил переписывания.

Для $a^n$ нужно дополнительно учитывать, что мы можем произвольным образом сначала уменьшить число `a` до двух и более, а после применять правила 1 и 3.

Таким образом при рассмотрении языка над базисом $b^na^n$ нужно отдельно расмотреть случаи $n=0, n=1, n\geq 2$

При $n = 0$ имеем только пустое слово.

При n = 1 язык состоит либо из присоединения слева b к T (нетерминалу рассмотренному в самом начале), либо справа c.
```
S -> bT | Tc
...
```

При $n\geq2$ необходимо допустить, что третье правило будет пременено к исходному базисному слову произвольное число раз.

Приведем грамматику без условия на n
```
S -> bST | bS | TE
E -> cET | cE | .
...
```

Преобразуем ее с $n\geq2$
```
P -> bbSTT | bTET | TcET

S -> bST | bS | TE
E -> cET | cE | .
...
```

Объединяем вместе грамматики
```
S' -> bT | Tc | P | .
P -> bbSTT | bTET | TcET
S -> bST | bS | TE
E -> cET | cE | .
T -> bTb | aR
R -> cRb | .
```

Таким образом мы предъявили КС грамматику(недетерминированную), порождающую все слова языка => язык КС.

Проверим детерминированность.
Пусть n - длинна накачки. Рассмотрим два слова из языка
$$\begin{aligned}
b^{n+2} a b^n &\mid b \\
b^{n+2} a b^n &\mid b a b^{n+1} a^n
\end{aligned}$$
1) в втором слове нельзя накачать префикс в КС смысле, так как первый отрезок b уравновешивается a в суффиксе, а второй отрезок b уравновешивается b из суффикса
2) накачка конец префикса + суффикс не работает в первом слове, так как b уравновешивается первым отрезком b в префиксе

Таким образом по лемме о накачки для DCFL получили, что язык не DCFL

Также автоматически проверили, что нарушается префикс свойство.

> Линейность языка можно опровергнуть с помощью леммы о накачке для линейных:
> Пусть n - длинна накачки. Рассмотрим $w = b^{n+1} a (b^n a b^n)^n$
> При накачке первых n символов и последних n символов мы гарантированно выйдем из языка, так как они уравновешиваются разными структурами => язык не линейный КС.
# 2. Язык $\{w \mid |w|_{ab}=|w|_{baa} \text{ \& } w=w^R\}$
#пусто
# 3. Атрибутная грамматика
```
S -> [regexp]
[regexp] -> ([regexp][regexp])
...
Пока опущу грамматику из условия
```

Текстовое описание языка:
Язык описывает регулярные выражения, состоящие из a, b и epsilon. Операции построения регулярки абрамляются в круглые скобочки, причем:
- не допускаются вложенные звездочки вида (a* b*)*
- внутри альтернативы есть как минимум одна не пустая альтернатива, и первый элемент не может быть альтернативой
- не допускается звездочка или конкатенация с пустым словом

Таким образом можно построить грамматику, которая учитывает эти условия:
```
R -> E | T | A | Cs | C
S -> (T)* | (C)* | (A)*
C  -> (TT) | (TS) | (TCs) | (TA) | (TC) | (ST) | (SA) | (SC) | (CsT) | (CsA) | (CsC) | (AT) | (AS) | (ACs) | (AA) | (AC) | (CT) | (CS) | (CCs) | (CA) | (CC)
Cs -> (SS) | (CsS) | (SCs) | (CsCs)
A -> (E|T) | (E|S) | (E|C) | (E|Cs) | (E|A) | (T|E) | (T|S) | (T|C) | (T|Cs) | (T|A) | (T|T) | (S|E) | (S|S) | (S|C) | (S|Cs) | (S|A) | (S|T) | (C|E) | (C|S) | (C|C) | (C|Cs) | (C|A) | (C|T) | (Cs|E) | (Cs|S) | (Cs|C) | (Cs|Cs) | (Cs|A) | (Cs|T)
E -> epsilon
T -> a | b
```

Язык беспрефиксный, так как все операции обрамляются скобками.

По построенной грамматике возможно построить lr(0) парсер => язык детерминированный.
Ссылка на построенную таблицу LR(0) разбора(Я вручную это все делать не буду)
```
https://smlweb.cpsc.ucalgary.ca/lr0.php?grammar=R+-%3E+E+%7C+T+%7C+A+%7C+Cs+%7C+C+%7C+S.%0AS+-%3E+%28+T+%29+%2A+%7C+%28+C+%29+%2A+%7C+%28+A+%29+%2A.%0AC++-%3E+%28+T+T+%29+%7C+%28+T+S+%29+%7C+%28+T+Cs+%29+%7C+%28+T+A+%29+%7C+%28+T+C+%29+%7C+%28+S+T+%29+%7C+%28+S+A+%29+%7C+%28+S+C+%29+%7C+%28+Cs+T+%29+%7C+%28+Cs+A+%29+%7C+%28+Cs+C+%29+%7C+%28+A+T+%29+%7C+%28+A+S+%29+%7C+%28+A+Cs+%29+%7C+%28+A+A+%29+%7C+%28+A+C+%29+%7C+%28+C+T+%29+%7C+%28+C+S+%29+%7C+%28+C+Cs+%29+%7C+%28+C+A+%29+%7C+%28+C+C+%29.%0ACs+-%3E+%28+S+S+%29+%7C+%28+Cs+S+%29+%7C+%28+S+Cs+%29+%7C+%28+Cs+Cs+%29.%0AA+-%3E+%28+E+%21+T+%29+%7C+%28+E+%21+S+%29+%7C+%28+E+%21+C+%29+%7C+%28+E+%21+Cs+%29+%7C+%28+E+%21+A+%29+%7C+%28+T+%21+E+%29+%7C+%28+T+%21+S+%29+%7C+%28+T+%21+C+%29+%7C+%28+T+%21+Cs+%29+%7C+%28+T+%21+A+%29+%7C+%28+T+%21+T+%29+%7C+%28+S+%21+E+%29+%7C+%28+S+%21+S+%29+%7C+%28+S+%21+C+%29+%7C+%28+S+%21+Cs+%29+%7C+%28+S+%21+A+%29+%7C+%28+S+%21+T+%29+%7C+%28+C+%21+E+%29+%7C+%28+C+%21+S+%29+%7C+%28+C+%21+C+%29+%7C+%28+C+%21+Cs+%29+%7C+%28+C+%21+A+%29+%7C+%28+C+%21+T+%29+%7C+%28+Cs+%21+E+%29+%7C+%28+Cs+%21+S+%29+%7C+%28+Cs+%21+C+%29+%7C+%28+Cs+%21+Cs+%29+%7C+%28+Cs+%21+A+%29+%7C+%28+Cs+%21+T+%29.%0AE+-%3E+epsilon.%0AT+-%3E+a+%7C+b.&substs=
```

Неформальное обоснование - все продукции однозначно зависят от наполнения внутри. В том числе из-за беспрефиксности исключаются конфликты в LR(0) разборе.

