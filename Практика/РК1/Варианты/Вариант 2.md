# 1. Выражение $(?= ba^*(bb\mid aa)^* (?<= a^* ba^*) aa^*ba)(aba \mid ba^*bb)^*$

Рассмотрим сначала выражение внутри lookbehind проверки:
$$\begin{aligned}
ba^*(bb\mid aa)^* (?<= a^*ba^*)aa^*ba \to ba^*aa^*ba
\end{aligned}$$
Рассмотрим теперь lookahead
$$\begin{aligned}
&(?= ba^*aa^*ba) (aba\mid ba^*bb)^* = (?= ba^*aa^*ba) (aba\mid ba^*bb) (aba\mid ba^*bb)^* = \\
& = (?= ba^*aa^*ba) ba^*bb (aba \mid ba^*bb)^* = \varepsilon
\end{aligned}$$


# 2. Грамматика
$$\begin{aligned}
S \to TaQ \text{ }&S \to RT \\
T \to QbA \text{ }&T \to BR \\
Q \to BcD \text{ }&Q \to TR \\
R \to aR \text{ }& R \to baR \text{ } R \to bbD \\
B \to cB \text{ }& B \to dRA \\
A \to DqB \text{ }& A \to aDd \\
D \to Dca \text{ }& D \to b
\end{aligned}$$
Заметим, что Q - не рекурсивный символ, так что можем его убрать
Также заметим, что символ D - леворекурсивный - переведем в правую рекурсию
$$\begin{aligned}
&S \to TaBcD \mid TaTR \mid RT \\
&T \to BcDbA \mid TRbA \mid BR \\
&R \to aR \mid baR \mid bbD \\
&B \to cB \mid dRA \\
&A \to DqB \mid aDd \\
&D \to b L \\
&L \to caL \mid \varepsilon
\end{aligned}$$
Теперь можно спокойно также убрать символ D
$$\begin{aligned}
&S \to TaBcbL \mid TaTR \mid RT \\
&T \to BcbLbA \mid TRbA \mid BR \\
&R \to aR \mid baR \mid bbbL \\
&B \to cB \mid dRA \\
&A \to bLqB \mid abLd \\
&L \to caL \mid \varepsilon
\end{aligned}$$
Избавимся от левой рекурсии нетерминала T
$$\begin{aligned}
&S \to TaBcbL \mid TaTR \mid RT \\
&T \to BcbLbAP \mid BRP \\
&P \to RbAP \mid \varepsilon \\
&R \to aR \mid baR \mid bbbL \\
&B \to cB \mid dRA \\
&A \to bLqB \mid abLd \\
&L \to caL \mid \varepsilon
\end{aligned}$$
 Не знаю как описать следующее преобразование, но мы разные хвосты разбора, с одинаковыми префиксами переводим в новые нетерминалы. ==Для решения задачи это не является необходимым, но мне так удобнее © Денис== 

$$\begin{aligned}
&S \to TaS_1 \mid RT \\
&S_1 \to BcbL \mid TR\\
&T \to BT_1 \\
&T_1 \to cbLbAP \mid RP\\
&P \to RbAP \mid \varepsilon \\
&R \to aR \mid baR \mid bbbL \\
&B \to cB \mid dRA \\
&A \to bLqB \mid abLd \\
&L \to caL \mid \varepsilon
\end{aligned}$$
$$\begin{aligned}
&S = TaS_1 \mid RT = BT_1aB(cb(ca)^* \mid T_1(a \mid ba \mid bbb)^*(ca)^*) \mid (a \mid ba \mid bbb)^*(ca)^* BT_1\\
&S_1 = BcbL \mid TR = BcbL \mid BT_1R = B(cb(ca)^* \mid T_1(a \mid ba \mid bbb)^*(ca)^*)\\
&T = BT_1\\
&T_1 = cbLbAP \mid RP = (cbLbA \mid R) P = (cb(ca)^*b(b(ca)^*qB \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*)\\
&(((a \mid ba \mid bbb)^*(ca)^*)b(b(ca)^*qB \mid ab (ca)^*d))^*\\
&P = (RbA)^* = (((a \mid ba \mid bbb)^*(ca)^*)b(b(ca)^*qB \mid ab (ca)^*d))^*\\
&B = (c)^* dRA = (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*qB \mid (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d)\\
 &= (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \\
&A= b(ca)^*qB \mid ab (ca)^*d \text{ // я не буду переписывать регулярку для B} \\
&R = (a \mid ba \mid bbb)^* L = (a \mid ba \mid bbb)^*(ca)^* \\
&L = (ca)^*
\end{aligned}$$

Таким образом можно весь язык выразить следующей регуляркой(которая не помещается в одну строчку)
$$\begin{aligned}
BT_1aB(cb(ca)^* \mid T_1(a \mid ba \mid bbb)^*(ca)^*) \mid (a \mid ba \mid bbb)^*(ca)^* BT_1 = \\
(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* \\
(a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \\
(cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*) \\
a (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d)(cb(ca^*) \mid (cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*)(a \mid ba \mid bbb)^*(ca)^*) \mid (a \mid ba \mid bbb)^*(ca)^* (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d)(cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*))
\end{aligned}$$

в общем, вот код латех
```latex
$$
(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) (cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*) a (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d)(cb(ca^*) \mid (cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*)(a \mid ba \mid bbb)^*(ca)^*) \mid (a \mid ba \mid bbb)^*(ca)^* (c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d)(cb(ca)^*b(b(ca)^*q(c)^*d ((a \mid ba \mid bbb)^*(ca)^* b(ca)^*q)^* (a \mid ba \mid bbb)^*(ca)^* ab(ca)^*d) \mid ab (ca)^*d) \mid (a \mid ba \mid bbb)^*(ca)^*))
$$
```

# 3. Язык $\{wz^Rvz \mid w,v,z \in \{a,b\}^* \space \& \space |w|>1 \space \& \space |z|>1 \space \&\space (v=w^R \vee v \in (ab^*)^+)\}$
Очевидно, что язык не является VPL, так как нельзя предъявить разбиение алфавита на вызывающие и возвращающие символы.
Необходимо проверить, является ли язык КС. Для этого воспользуемся леммой о накачке для КС языков.
Перед непосредственным использованием леммы заметим, что $(ab^*)^+ = ab^*(ab^*)^* = ab^* (a|b)^* = a(a|b)^*$
То есть, одно из условий переписывается как $v = w^R \vee v \in a (a|b)^*$



==Пусть p - длинна накачки,  рассмотрим слово $w = \underbrace{(ab)^p}_{p_1} \underbrace{a^{2p}}_{p_2} \underbrace{(ba)^p}_{p_3}\underbrace{a^{2p}}_{p_4}$==
==Рассмотрим, почему допустимо только такое разбиение. Пусть z захватывает $p_3p_4$ полностью или частично.==

==При накачке только $p_i$ ломается соотношение между словами==
==При накачке перемычек также ломается соотношений палиндромов. Соответсвенно накачать слово нельзя => язык не КС==