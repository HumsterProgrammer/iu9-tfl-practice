Если в грамматике G есть правило вида 
$$\begin{aligned}
A_i \to \varphi_i \\
A_i \to \varphi_j
\end{aligned} \qquad |\varphi_i| \neq |\varphi_j|$$
Тогда заводим нетерминалы $A_{i,|\varphi_i|}, A_{i, |\varphi_j|}$ используемые произвольно вместо $A_i$, и имеющие сигнатуры соответствующей длинны.
Так наша грамматика перепишется в следующий вид
$$\begin{aligned}
S &\to S_1 \mid S_3 \\
S_1 &\to \varepsilon \\
S_3 &\to aB_1S_1\mid a B_3 S_1 \mid a B_1 S_3\mid aB_3S_3 \\
B_1 &\to b \\
B_3 &\to a B_1 B_1 \mid a B_1 B_3 \mid a B_3 B_1 \mid a B_3 B_3
\end{aligned}$$
Такое преобразование является некоторого рода "костылем", нужным для избавления от конструкторов разной арности. Это преобразование является чисто техническим для соответствия определению.

>[!note] Определение 
> Грамматика G находится в нормальной форме Хомского $\Leftrightarrow$ правила G имеют вид
> $$\begin{matrix}
> A_i \to A_j A_k \quad (A_i, A_j, A_k \in N)\\
> \text{или} \\
> A_i \to c \quad(c \in \Sigma)
> \end{matrix}$$

Что нам мешает получить НФХ?
1) $A \to \varepsilon$
	Нужно понять какие нетерминалы могут выродиться в пустое слово.  Здесь алгоритм крайне похож на нахождение и удаление эпсилон-замыканий в автоматах. Из грамматики мы убираем все эпсилон правила, кроме случаем когда пустое слово принадлежит языку. Тогда мы добавляем стартовый символ $S_0 \to S \mid \varepsilon$.
2) Смешанные правила ($A_i \to a A_j$) убираем добавляя новые нетерминалы в грамматику. 
3) Длинные правила разбиваем на последовательность коротких правил
4) Цепные правила $A_i \to A_j$ значат, что с точки зрения НКА есть переход по пустому слову из $A_i$ в $A_j$. Мы заменяем все вхождения $A_i$ на $A_j$.